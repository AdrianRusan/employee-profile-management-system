# Database
# For PostgreSQL: postgresql://user:password@localhost:5432/employee_db?schema=public
# For SQLite (local demo): file:./dev.db
DATABASE_URL="postgresql://user:password@localhost:5432/employee_db?schema=public"

# Session Configuration
# REQUIRED: Must be at least 32 characters long
# Generate a secure secret using one of these methods:
#   - Node.js: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#   - OpenSSL: openssl rand -hex 32
#   - Online: https://www.uuidgenerator.net/api/guid/32 (ensure it's 32+ chars)
SESSION_SECRET="your-session-secret-min-32-chars-change-in-production"

# Session cookie name - customize per environment to avoid conflicts
# Examples: employee_profile_session (prod), dev_session (dev), staging_session (staging)
SESSION_COOKIE_NAME="employee_profile_session"

# Session duration in seconds (default: 604800 = 7 days)
# Examples: 3600 (1 hour), 86400 (1 day), 604800 (1 week), 2592000 (30 days)
SESSION_MAX_AGE=604800

# Use secure cookies (default: true in production, false otherwise)
# Set to true in production to require HTTPS
SESSION_SECURE=true

# SameSite cookie attribute (default: strict)
# Options: strict (most secure), lax (balanced), none (least secure, requires HTTPS)
SESSION_SAME_SITE="strict"

# React Query Configuration
# Time in milliseconds before cached data is considered stale (default: 300000 = 5 minutes)
# Lower values = more frequent refetches, higher values = better performance
# Examples: 1000 (1 sec - dev), 60000 (1 min - staging), 300000 (5 min - production)
QUERY_STALE_TIME=300000

# Time in milliseconds before unused cached data is garbage collected (default: 600000 = 10 minutes)
# Should be higher than QUERY_STALE_TIME
QUERY_GC_TIME=600000

# Whether to refetch queries when window regains focus (default: false)
# Set to true if you need real-time updates when users switch back to the app
QUERY_REFETCH_ON_FOCUS=false

# Application Limits
# Maximum file upload size in bytes (default: 5242880 = 5MB)
# Examples: 1048576 (1MB), 5242880 (5MB), 10485760 (10MB)
MAX_FILE_SIZE=5242880

# API request timeout in milliseconds (default: 30000 = 30 seconds)
# Increase for slow networks or long-running operations
REQUEST_TIMEOUT=30000

# Number of retries for failed requests (default: 3)
# Set to 0 to disable retries, increase for unreliable networks
RETRY_COUNT=3

# Feature Flags
# Enable analytics tracking (default: true)
FEATURE_ANALYTICS=true

# Enable push notifications (default: true)
FEATURE_NOTIFICATIONS=true

# HuggingFace AI
HUGGINGFACE_API_KEY="your-huggingface-api-key"

# =============================================================================
# Email Service (Resend)
# =============================================================================
# Transactional email service for verification, notifications, etc.
# Get your API key from: https://resend.com/api-keys

# Resend API Key (required for sending emails)
# Example: re_123abc456def789ghi
RESEND_API_KEY=""

# Default sender email address (must be from a verified domain)
# Examples:
#   - Employee Hub <noreply@yourdomain.com>
#   - notifications@yourdomain.com
#   - no-reply@yourdomain.com
EMAIL_FROM="Employee Hub <noreply@yourdomain.com>"

# Application name for emails (optional, uses NEXT_PUBLIC_APP_NAME if not set)
# This appears in email templates and headers
NEXT_PUBLIC_APP_NAME="Employee Hub"

# Encryption
# REQUIRED: 32-byte (64 character) hexadecimal key for field-level encryption (SSN, etc.)
# Generate using: openssl rand -hex 32
# SECURITY: Never commit the actual key to git. Keep this in .env (gitignored)
# COMPLIANCE: Required for GDPR Article 32, CCPA, PCI DSS compliance
ENCRYPTION_KEY="generate-using-openssl-rand-hex-32-replace-this-value-immediately"

# App
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# =============================================================================
# OAuth Providers
# =============================================================================
# Configure OAuth authentication providers for social login

# Google OAuth
# Get credentials from: https://console.cloud.google.com/apis/credentials
# 1. Create a new project or select existing
# 2. Enable Google+ API
# 3. Create OAuth 2.0 Client ID (Web application)
# 4. Add authorized redirect URIs: {NEXT_PUBLIC_APP_URL}/api/auth/google/callback
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Microsoft OAuth (Azure AD)
# Get credentials from: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# 1. Go to Azure Active Directory > App registrations
# 2. Create new registration or select existing
# 3. Add redirect URI: {NEXT_PUBLIC_APP_URL}/api/auth/microsoft/callback
# 4. Create client secret in Certificates & secrets
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""

# =============================================================================
# Super Admin Configuration
# =============================================================================
# Comma-separated list of email addresses that have super admin access
# Super admins can access the /admin panel for platform-level management
# Example: "admin@company.com,superadmin@company.com,cto@company.com"
# SECURITY: Keep this list minimal and well-protected
SUPER_ADMIN_EMAILS=""
NEXT_PUBLIC_SUPER_ADMIN_EMAILS=""

# Logging & Observability
# Log level for Pino logger (default: info in production, debug in development)
# Options: trace, debug, info, warn, error, fatal
# - trace: Most verbose, logs everything including internal operations
# - debug: Detailed debugging information (default in development)
# - info: General informational messages (default in production)
# - warn: Warning messages for potentially problematic situations
# - error: Error messages for failures
# - fatal: Critical errors that may cause app to crash
LOG_LEVEL="info"

# Sentry Error Tracking
# Get your DSN from: https://sentry.io/settings/[org]/projects/[project]/keys/
# Required for error tracking and monitoring in production
# Server-side DSN (Node.js/API routes)
SENTRY_DSN=""

# Client-side DSN (must be prefixed with NEXT_PUBLIC_)
# Same DSN as server-side, but accessible in browser
NEXT_PUBLIC_SENTRY_DSN=""

# Sentry authentication token for uploading source maps during build
# Get from: https://sentry.io/settings/account/api/auth-tokens/
# Requires 'project:releases' and 'org:read' scopes
# Optional but recommended for better error stack traces in production
SENTRY_AUTH_TOKEN=""

# Sentry organization slug (your Sentry organization name)
# Example: my-company
SENTRY_ORG=""

# Sentry project name
# Example: employee-profile-management
SENTRY_PROJECT=""

# Force Sentry to capture events in development (default: false)
# Set to true if you want to test Sentry integration in development
# NEXT_PUBLIC_SENTRY_FORCE_DEV="false"
# SENTRY_FORCE_DEV="false"

# Sentry release version (optional)
# Automatically tracks which code version produced errors
# Example: employee-profile-management@1.0.0
# SENTRY_RELEASE=""

# =============================================================================
# Rate Limiting (Upstash Redis)
# =============================================================================
# For production, use Upstash Redis for distributed rate limiting.
# Get credentials from: https://console.upstash.com/
# Without these, the app falls back to in-memory rate limiting (not recommended for production)

# Upstash Redis REST URL
# Example: https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_URL=""

# Upstash Redis REST Token
# Get from your Upstash Redis database dashboard
UPSTASH_REDIS_REST_TOKEN=""

# =============================================================================
# Docker Configuration
# =============================================================================
# These are primarily used in docker-compose.yml but can be set here for consistency

# Node environment (development, production, test)
NODE_ENV="development"

# Port the application listens on (default: 3000)
PORT=3000

# PostgreSQL Configuration (for Docker Compose)
# REQUIRED: Set a strong password for the database
# Generate using: openssl rand -base64 32
POSTGRES_USER="postgres"
POSTGRES_PASSWORD=""
POSTGRES_DB="epms"
